<div class="card">
  <div class="card-body p-4">
    <div class="row">
      <div class="col-sm-5">
        <h1><%= recipe.title %></h1>
        <%= cl_image_tag(recipe.image.to_s, alt: recipe.title) %>
      </div>
      <div class="col-12 col-sm-7">
        <h3><%= recipe.explanation %></h3>
        <div class="d-flex justify-content-end"> 
          <h4 class="font-orange"><%= "by #{recipe.user.name}" %></h4>
        </div>
        <!--何人分？追加ボタン-->
        <div class="mt-3">
          <%= render 'recipes/set_size_button', recipe: recipe %>
        </div>
        <div class="mt-2", id="recipe-size">
          <% if recipe.size.present? %>
            <h3>(<%= recipe.size %>)</h3>
          <% end %>
        </div>
        <div class="row mt-2">
          <div class="col-sm-8 col-8">
            <h2>材料</h2>
          </div>
          <div class="col-sm-3 col-3 pl-0">
            <h2>数量</h2>
          </div>
        </div>
        <%= form_with(url: recipe_ingredients_path, method: method, local: true) do |form| %>
          <% @ingredients.each do |ingredient|%>
            <%= form.fields_for 'ingredients[]', ingredient do |f| %>
              <%= render 'layouts/error_messages', model: f.object %>
              <div class="form-row">
                <div class="form-group col-8 col-sm-8 mb-2">
                  <%= f.text_field :name, class: "form-control" %>
                </div>
                <div class="form-group col-4 col-sm-4 mb-2">
                  <%= f.text_field :quantity, class: "form-control" %>
                </div>
              </div>
            <% end %>
          <% end %>
          <%= form.submit '保存して手順入力に進む', class: 'btn btn-sm submit-btn btn-block' %>
        <% end %>
      </div>  
    </div>
  </div>  
</div>


